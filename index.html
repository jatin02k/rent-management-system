<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RentFlow - Multi-Property Management</title>
    <link href="https://fonts.googleapis.com/css2?family=Sora:wght@300;400;600;700&family=Inter:wght@300;400;500;600&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary: #6366f1;
            --primary-dark: #4f46e5;
            --secondary: #10b981;
            --accent: #f59e0b;
            --dark: #0f172a;
            --dark-light: #1e293b;
            --gray: #64748b;
            --gray-light: #cbd5e1;
            --gray-lighter: #f1f5f9;
            --white: #ffffff;
            --success: #10b981;
            --warning: #f59e0b;
            --danger: #ef4444;
            --shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
            --shadow-lg: 0 25px 50px -12px rgba(0, 0, 0, 0.25);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            color: var(--dark);
            overflow-x: hidden;
        }

        /* Background Pattern */
        body::before {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-image: 
                radial-gradient(circle at 20% 50%, rgba(99, 102, 241, 0.2) 0%, transparent 50%),
                radial-gradient(circle at 80% 80%, rgba(16, 185, 129, 0.2) 0%, transparent 50%);
            pointer-events: none;
            z-index: 0;
        }

        .container {
            position: relative;
            z-index: 1;
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
        }

        /* Header */
        .header {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(20px);
            border-radius: 24px;
            padding: 24px 32px;
            margin-bottom: 24px;
            box-shadow: var(--shadow-lg);
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            gap: 20px;
            border: 1px solid rgba(255, 255, 255, 0.2);
            position: relative;
            z-index: 10;
            overflow: visible;
        }

        .header-left {
            display: flex;
            align-items: center;
            gap: 16px;
        }

        .logo {
            font-family: 'Sora', sans-serif;
            font-size: 28px;
            font-weight: 700;
            background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .header-title {
            font-family: 'Sora', sans-serif;
            font-size: 18px;
            color: var(--dark);
            font-weight: 600;
        }

        .header-subtitle {
            font-size: 13px;
            color: var(--gray);
            margin-top: 2px;
        }

        /* Property Selector */
        .property-selector {
            display: flex;
            gap: 12px;
            align-items: center;
        }

        .property-dropdown {
            position: relative;
            z-index: 100;
        }

        .property-btn {
            background: linear-gradient(135deg, var(--primary) 0%, var(--primary-dark) 100%);
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 12px;
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 8px;
            transition: all 0.3s ease;
            box-shadow: 0 4px 12px rgba(99, 102, 241, 0.3);
        }

        .property-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(99, 102, 241, 0.4);
        }

        .property-menu {
            display: none;
            position: absolute;
            top: calc(100% + 8px);
            right: 0;
            background: white;
            border-radius: 16px;
            padding: 12px;
            min-width: 320px;
            max-width: 90vw;
            box-shadow: var(--shadow-lg);
            z-index: 5000;
            animation: slideDown 0.3s ease;
        }

        @keyframes slideDown {
            from {
                opacity: 0;
                transform: translateY(-10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .property-menu.show {
            display: block;
        }

        .property-item {
            padding: 14px 16px;
            border-radius: 12px;
            cursor: pointer;
            transition: all 0.2s ease;
            display: flex;
            justify-content: space-between;
            align-items: center;
            gap: 12px;
            margin-bottom: 4px;
        }

        .property-item:hover {
            background: var(--gray-lighter);
        }

        .property-item.active {
            background: linear-gradient(135deg, rgba(99, 102, 241, 0.1) 0%, rgba(16, 185, 129, 0.1) 100%);
            border-left: 4px solid var(--primary);
            padding-left: 12px;
        }

        .property-info {
            flex: 1;
            min-width: 0;
        }

        .property-info h4 {
            font-size: 14px;
            font-weight: 600;
            color: var(--dark);
            margin-bottom: 4px;
            white-space: normal;
            line-height: 1.3;
        }

        .property-info p {
            font-size: 12px;
            color: var(--gray);
            white-space: normal;
            line-height: 1.3;
        }

        .property-units {
            font-size: 13px;
            color: var(--primary);
            font-weight: 700;
            white-space: nowrap;
            flex-shrink: 0;
        }

        /* Stats Grid */
        .stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
            gap: 20px;
            margin-bottom: 24px;
        }

        .stat-card {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(20px);
            padding: 24px;
            border-radius: 20px;
            box-shadow: var(--shadow);
            position: relative;
            overflow: hidden;
            border: 1px solid rgba(255, 255, 255, 0.2);
            transition: all 0.3s ease;
        }

        .stat-card:hover {
            transform: translateY(-4px);
            box-shadow: var(--shadow-lg);
        }

        .stat-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(90deg, var(--primary) 0%, var(--secondary) 100%);
        }

        .stat-icon {
            width: 48px;
            height: 48px;
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            margin-bottom: 16px;
        }

        .stat-card:nth-child(1) .stat-icon {
            background: linear-gradient(135deg, rgba(99, 102, 241, 0.1) 0%, rgba(99, 102, 241, 0.2) 100%);
        }

        .stat-card:nth-child(2) .stat-icon {
            background: linear-gradient(135deg, rgba(16, 185, 129, 0.1) 0%, rgba(16, 185, 129, 0.2) 100%);
        }

        .stat-card:nth-child(3) .stat-icon {
            background: linear-gradient(135deg, rgba(245, 158, 11, 0.1) 0%, rgba(245, 158, 11, 0.2) 100%);
        }

        .stat-card:nth-child(4) .stat-icon {
            background: linear-gradient(135deg, rgba(239, 68, 68, 0.1) 0%, rgba(239, 68, 68, 0.2) 100%);
        }

        .stat-label {
            font-size: 13px;
            color: var(--gray);
            font-weight: 500;
            margin-bottom: 8px;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .stat-value {
            font-family: 'Sora', sans-serif;
            font-size: 32px;
            font-weight: 700;
            color: var(--dark);
            margin-bottom: 8px;
        }

        .stat-change {
            font-size: 12px;
            display: flex;
            align-items: center;
            gap: 4px;
        }

        .stat-change.positive {
            color: var(--success);
        }

        .stat-change.negative {
            color: var(--danger);
        }

        /* Main Content */
        .main-content {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(20px);
            border-radius: 24px;
            box-shadow: var(--shadow-lg);
            overflow: hidden;
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        /* Tabs */
        .tabs {
            display: flex;
            gap: 8px;
            padding: 24px 24px 0 24px;
            border-bottom: 2px solid var(--gray-lighter);
            overflow-x: auto;
            -webkit-overflow-scrolling: touch;
        }

        .tab {
            padding: 14px 24px;
            background: none;
            border: none;
            border-bottom: 3px solid transparent;
            cursor: pointer;
            font-size: 14px;
            font-weight: 600;
            color: var(--gray);
            transition: all 0.3s ease;
            white-space: nowrap;
            position: relative;
        }

        .tab:hover {
            color: var(--primary);
        }

        .tab.active {
            color: var(--primary);
            border-bottom-color: var(--primary);
        }

        .tab-content {
            display: none;
            padding: 24px;
            animation: fadeIn 0.3s ease;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .tab-content.active {
            display: block;
        }

        /* Table */
        .table-container {
            overflow-x: auto;
            -webkit-overflow-scrolling: touch;
            border-radius: 12px;
        }

        table {
            width: 100%;
            border-collapse: separate;
            border-spacing: 0;
            min-width: 900px;
        }

        thead {
            background: var(--gray-lighter);
        }

        th {
            padding: 16px;
            text-align: left;
            font-size: 12px;
            font-weight: 600;
            color: var(--gray);
            text-transform: uppercase;
            letter-spacing: 0.5px;
            border-bottom: 2px solid var(--gray-light);
        }

        td {
            padding: 16px;
            border-bottom: 1px solid var(--gray-lighter);
            font-size: 14px;
        }

        tr:last-child td {
            border-bottom: none;
        }

        tbody tr {
            transition: all 0.2s ease;
        }

        tbody tr:hover {
            background: rgba(99, 102, 241, 0.02);
        }

        /* Status Badge */
        .status {
            display: inline-flex;
            align-items: center;
            padding: 6px 12px;
            border-radius: 20px;
            font-size: 11px;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .status.paid {
            background: rgba(16, 185, 129, 0.1);
            color: var(--success);
        }

        .status.partial {
            background: rgba(245, 158, 11, 0.1);
            color: var(--warning);
        }

        .status.pending {
            background: rgba(239, 68, 68, 0.1);
            color: var(--danger);
        }

        /* Buttons */
        .btn {
            padding: 10px 20px;
            border: none;
            border-radius: 10px;
            font-size: 13px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            display: inline-flex;
            align-items: center;
            gap: 6px;
        }

        .btn-primary {
            background: linear-gradient(135deg, var(--primary) 0%, var(--primary-dark) 100%);
            color: white;
            box-shadow: 0 4px 12px rgba(99, 102, 241, 0.3);
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 16px rgba(99, 102, 241, 0.4);
        }

        .btn-success {
            background: linear-gradient(135deg, var(--success) 0%, #059669 100%);
            color: white;
            box-shadow: 0 4px 12px rgba(16, 185, 129, 0.3);
        }

        .btn-success:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 16px rgba(16, 185, 129, 0.4);
        }

        .btn-outline {
            background: white;
            color: var(--primary);
            border: 2px solid var(--primary);
        }

        .btn-outline:hover {
            background: var(--primary);
            color: white;
        }

        .action-btns {
            display: flex;
            gap: 8px;
            flex-wrap: wrap;
        }

        /* Payment Progress */
        .payment-progress {
            margin-top: 8px;
        }

        .progress-bar {
            height: 6px;
            background: var(--gray-lighter);
            border-radius: 10px;
            overflow: hidden;
            margin-bottom: 6px;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, var(--primary) 0%, var(--secondary) 100%);
            border-radius: 10px;
            transition: width 0.3s ease;
        }

        .progress-labels {
            display: flex;
            justify-content: space-between;
            font-size: 11px;
            color: var(--gray);
        }

        /* Modal */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(15, 23, 42, 0.7);
            backdrop-filter: blur(8px);
            z-index: 2000;
            padding: 20px;
            overflow-y: auto;
        }

        .modal.show {
            display: flex;
            align-items: center;
            justify-content: center;
            animation: fadeIn 0.3s ease;
        }

        .modal-content {
            background: white;
            border-radius: 24px;
            max-width: 600px;
            width: 100%;
            max-height: 90vh;
            overflow-y: auto;
            box-shadow: var(--shadow-lg);
            animation: slideUp 0.3s ease;
        }

        @keyframes slideUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .modal-header {
            padding: 24px 32px;
            border-bottom: 2px solid var(--gray-lighter);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .modal-header h2 {
            font-family: 'Sora', sans-serif;
            font-size: 24px;
            color: var(--dark);
        }

        .close-modal {
            width: 36px;
            height: 36px;
            border-radius: 50%;
            border: none;
            background: var(--gray-lighter);
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 20px;
            color: var(--gray);
            transition: all 0.2s ease;
        }

        .close-modal:hover {
            background: var(--gray-light);
            color: var(--dark);
        }

        .modal-body {
            padding: 32px;
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-group label {
            display: block;
            font-size: 13px;
            font-weight: 600;
            color: var(--dark);
            margin-bottom: 8px;
        }

        .form-group input,
        .form-group select {
            width: 100%;
            padding: 12px 16px;
            border: 2px solid var(--gray-lighter);
            border-radius: 10px;
            font-size: 14px;
            transition: all 0.2s ease;
            font-family: 'Inter', sans-serif;
        }

        .form-group input:focus,
        .form-group select:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 4px rgba(99, 102, 241, 0.1);
        }

        /* Invoice Styles */
        .invoice-header-section {
            border-bottom: 3px solid var(--primary);
            padding-bottom: 20px;
            margin-bottom: 24px;
        }

        .invoice-header-section h3 {
            font-family: 'Sora', sans-serif;
            font-size: 28px;
            color: var(--primary);
            margin-bottom: 8px;
        }

        .invoice-meta {
            display: flex;
            justify-content: space-between;
            flex-wrap: wrap;
            gap: 16px;
            font-size: 13px;
            color: var(--gray);
        }

        .invoice-details {
            background: var(--gray-lighter);
            padding: 20px;
            border-radius: 12px;
            margin-bottom: 24px;
        }

        .invoice-details h4 {
            font-size: 12px;
            text-transform: uppercase;
            color: var(--gray);
            margin-bottom: 12px;
            letter-spacing: 0.5px;
        }

        .invoice-details p {
            margin: 6px 0;
            font-size: 14px;
            color: var(--dark);
        }

        .invoice-table {
            width: 100%;
            margin: 24px 0;
            border-collapse: separate;
            border-spacing: 0;
            min-width: 500px;
        }

        .invoice-table th {
            background: var(--gray-lighter);
            padding: 12px;
            text-align: left;
            font-size: 12px;
            font-weight: 600;
            text-transform: uppercase;
            color: var(--gray);
        }

        .invoice-table td {
            padding: 12px;
            border-bottom: 1px solid var(--gray-lighter);
            font-size: 14px;
        }

        .invoice-table tr:last-child td {
            border-bottom: none;
        }

        .invoice-total-row {
            background: var(--gray-lighter);
            font-weight: 700;
            font-size: 16px;
        }

        .invoice-total-row td {
            padding: 16px 12px;
        }

        .invoice-instructions {
            background: linear-gradient(135deg, rgba(99, 102, 241, 0.05) 0%, rgba(16, 185, 129, 0.05) 100%);
            padding: 20px;
            border-radius: 12px;
            border-left: 4px solid var(--primary);
            margin-top: 24px;
        }

        .invoice-instructions h4 {
            font-size: 14px;
            font-weight: 600;
            color: var(--dark);
            margin-bottom: 12px;
        }

        .invoice-instructions p {
            margin: 8px 0;
            font-size: 13px;
            color: var(--gray);
            line-height: 1.6;
        }

        .invoice-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
        }

        @media (max-width: 600px) {
            .invoice-grid {
                grid-template-columns: 1fr;
                gap: 16px;
            }
        }

        /* Property Badge */
        .property-badge {
            display: inline-block;
            padding: 4px 10px;
            background: linear-gradient(135deg, rgba(99, 102, 241, 0.1) 0%, rgba(16, 185, 129, 0.1) 100%);
            border-radius: 6px;
            font-size: 11px;
            font-weight: 600;
            color: var(--primary);
        }

        /* Responsive */
        @media (max-width: 768px) {
            .container {
                padding: 10px;
            }

            .header {
                padding: 16px 20px;
                border-radius: 16px;
            }

            .logo {
                font-size: 22px;
            }

            .header-title {
                font-size: 16px;
            }

            .property-menu {
                min-width: 280px;
                max-width: calc(100vw - 40px);
                right: -10px;
            }

            .property-btn {
                padding: 10px 18px;
                font-size: 13px;
            }

            .stats {
                grid-template-columns: repeat(2, 1fr);
                gap: 12px;
            }

            .stat-value {
                font-size: 24px;
            }

            .tabs {
                padding: 16px 16px 0 16px;
            }

            .tab {
                padding: 12px 16px;
                font-size: 13px;
            }

            .tab-content {
                padding: 16px;
            }

            table {
                font-size: 12px;
                min-width: 800px;
            }

            th, td {
                padding: 12px 10px;
            }

            .btn {
                padding: 8px 14px;
                font-size: 12px;
            }

            .modal-content {
                border-radius: 16px;
            }

            .modal-header {
                padding: 20px 24px;
            }

            .modal-header h2 {
                font-size: 20px;
            }

            .modal-body {
                padding: 24px;
            }

            .invoice-header-section h3 {
                font-size: 22px;
            }

            .invoice-meta {
                font-size: 12px;
            }

            .invoice-details {
                padding: 16px;
            }

            .invoice-table {
                font-size: 13px;
            }

            .invoice-table th,
            .invoice-table td {
                padding: 10px 8px;
            }

            .invoice-instructions {
                padding: 16px;
            }

            .invoice-instructions h4 {
                font-size: 13px;
            }

            .invoice-instructions p {
                font-size: 12px;
            }
        }

        @media (max-width: 480px) {
            .stats {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Header -->
        <div class="header">
            <div class="header-left">
                <div class="logo">RentFlow</div>
                <div>
                    <div class="header-title">Multi-Property Management</div>
                    <div class="header-subtitle">Manage all your rental properties in one place</div>
                </div>
            </div>
            
            <div class="property-selector">
                <div class="property-dropdown">
                    <button class="property-btn" onclick="togglePropertyMenu()">
                        <span id="selectedProperty">All Properties</span>
                        <span>‚ñº</span>
                    </button>
                    <div class="property-menu" id="propertyMenu">
                        <div class="property-item active" onclick="selectProperty('all', 'All Properties')">
                            <div class="property-info">
                                <h4>All Properties</h4>
                                <p>View combined data</p>
                            </div>
                            <div class="property-units">30 units</div>
                        </div>
                        <div class="property-item" onclick="selectProperty('skyview', 'Skyview Apartments')">
                            <div class="property-info">
                                <h4>Skyview Apartments</h4>
                                <p>Andheri West, Mumbai</p>
                            </div>
                            <div class="property-units">10 units</div>
                        </div>
                        <div class="property-item" onclick="selectProperty('green', 'Green Valley Residency')">
                            <div class="property-info">
                                <h4>Green Valley Residency</h4>
                                <p>Whitefield, Bangalore</p>
                            </div>
                            <div class="property-units">12 units</div>
                        </div>
                        <div class="property-item" onclick="selectProperty('pearl', 'Pearl Heights')">
                            <div class="property-info">
                                <h4>Pearl Heights</h4>
                                <p>Sector 62, Noida</p>
                            </div>
                            <div class="property-units">8 units</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Stats -->
        <div class="stats" id="statsContainer">
            <div class="stat-card">
                <div class="stat-icon">üè¢</div>
                <div class="stat-label">Total Monthly Rent</div>
                <div class="stat-value">‚Çπ7,77,000</div>
                <div class="stat-change positive">
                    <span>‚Üë</span>
                    <span>12% from last month</span>
                </div>
            </div>
            <div class="stat-card">
                <div class="stat-icon">üí∞</div>
                <div class="stat-label">Collected This Month</div>
                <div class="stat-value">‚Çπ5,43,900</div>
                <div class="stat-change positive">
                    <span>‚Üë</span>
                    <span>70% collection rate</span>
                </div>
            </div>
            <div class="stat-card">
                <div class="stat-icon">üì±</div>
                <div class="stat-label">Online Payments</div>
                <div class="stat-value">‚Çπ2,17,560</div>
                <div class="stat-change">
                    <span>40% of total</span>
                </div>
            </div>
            <div class="stat-card">
                <div class="stat-icon">üíµ</div>
                <div class="stat-label">Cash Payments</div>
                <div class="stat-value">‚Çπ3,26,340</div>
                <div class="stat-change">
                    <span>60% of total</span>
                </div>
            </div>
        </div>

        <!-- Main Content -->
        <div class="main-content">
            <div class="tabs">
                <button class="tab active" onclick="switchTab('tenants')">Tenants & Payments</button>
                <button class="tab" onclick="switchTab('properties')">Properties Overview</button>
                <button class="tab" onclick="switchTab('invoices')">Monthly Invoices</button>
                <button class="tab" onclick="switchTab('reports')">Reports & Analytics</button>
            </div>

            <!-- Tenants Tab -->
            <div id="tenants" class="tab-content active">
                <div class="table-container">
                    <table>
                        <thead>
                            <tr>
                                <th>Property</th>
                                <th>Unit</th>
                                <th>Tenant Name</th>
                                <th>Monthly Rent</th>
                                <th>Payment Progress</th>
                                <th>Status</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody id="tenantList">
                            <!-- Populated by JavaScript -->
                        </tbody>
                    </table>
                </div>
            </div>

            <!-- Properties Tab -->
            <div id="properties" class="tab-content">
                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 20px;">
                    <div class="stat-card">
                        <div class="stat-icon">üè¢</div>
                        <div class="stat-label">Skyview Apartments</div>
                        <div class="stat-value">‚Çπ2,59,000</div>
                        <div class="stat-change positive">
                            <span>10 units ‚Ä¢ Andheri West, Mumbai</span>
                        </div>
                        <div class="payment-progress">
                            <div class="progress-bar">
                                <div class="progress-fill" style="width: 70%"></div>
                            </div>
                            <div class="progress-labels">
                                <span>Collection Rate</span>
                                <span>70%</span>
                            </div>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon">üè¢</div>
                        <div class="stat-label">Green Valley Residency</div>
                        <div class="stat-value">‚Çπ3,24,000</div>
                        <div class="stat-change positive">
                            <span>12 units ‚Ä¢ Whitefield, Bangalore</span>
                        </div>
                        <div class="payment-progress">
                            <div class="progress-bar">
                                <div class="progress-fill" style="width: 75%"></div>
                            </div>
                            <div class="progress-labels">
                                <span>Collection Rate</span>
                                <span>75%</span>
                            </div>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon">üè¢</div>
                        <div class="stat-label">Pearl Heights</div>
                        <div class="stat-value">‚Çπ1,94,000</div>
                        <div class="stat-change positive">
                            <span>8 units ‚Ä¢ Sector 62, Noida</span>
                        </div>
                        <div class="payment-progress">
                            <div class="progress-bar">
                                <div class="progress-fill" style="width: 65%"></div>
                            </div>
                            <div class="progress-labels">
                                <span>Collection Rate</span>
                                <span>65%</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Invoices Tab -->
            <div id="invoices" class="tab-content">
                <div style="margin-bottom: 20px;">
                    <button class="btn btn-primary" onclick="sendAllInvoices()">
                        üìß Send Invoices to All Tenants
                    </button>
                </div>
                <div class="table-container">
                    <table>
                        <thead>
                            <tr>
                                <th>Invoice #</th>
                                <th>Property</th>
                                <th>Tenant</th>
                                <th>Amount</th>
                                <th>Status</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody id="invoiceList">
                            <!-- Populated by JavaScript -->
                        </tbody>
                    </table>
                </div>
            </div>

            <!-- Reports Tab -->
            <div id="reports" class="tab-content">
                <h2 style="font-family: 'Sora', sans-serif; margin-bottom: 24px;">February 2026 - Collection Summary</h2>
                
                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 20px; margin-bottom: 32px;">
                    <div class="stat-card">
                        <div class="stat-label">Total Properties</div>
                        <div class="stat-value">3</div>
                        <div class="stat-change">30 rental units</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-label">Avg Collection Rate</div>
                        <div class="stat-value">70%</div>
                        <div class="stat-change positive">‚Üë 5% vs last month</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-label">Outstanding Amount</div>
                        <div class="stat-value">‚Çπ2,33,100</div>
                        <div class="stat-change">30% pending</div>
                    </div>
                </div>

                <h3 style="font-family: 'Sora', sans-serif; margin-bottom: 16px;">Payment Method Breakdown</h3>
                <div class="table-container">
                    <table>
                        <thead>
                            <tr>
                                <th>Payment Method</th>
                                <th>Expected</th>
                                <th>Collected</th>
                                <th>Pending</th>
                                <th>Rate</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><strong>Online (UPI/Card/Net Banking)</strong></td>
                                <td>‚Çπ3,10,800</td>
                                <td style="color: var(--success); font-weight: 600;">‚Çπ2,17,560</td>
                                <td style="color: var(--danger);">‚Çπ93,240</td>
                                <td>70%</td>
                            </tr>
                            <tr>
                                <td><strong>Cash Payments</strong></td>
                                <td>‚Çπ4,66,200</td>
                                <td style="color: var(--success); font-weight: 600;">‚Çπ3,26,340</td>
                                <td style="color: var(--danger);">‚Çπ1,39,860</td>
                                <td>70%</td>
                            </tr>
                            <tr style="background: var(--gray-lighter); font-weight: 600;">
                                <td>TOTAL</td>
                                <td>‚Çπ7,77,000</td>
                                <td style="color: var(--success);">‚Çπ5,43,900</td>
                                <td style="color: var(--danger);">‚Çπ2,33,100</td>
                                <td>70%</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>

    <!-- Payment Modal -->
    <div id="paymentModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Record Payment</h2>
                <button class="close-modal" onclick="closePaymentModal()">√ó</button>
            </div>
            <div class="modal-body">
                <div class="form-group">
                    <label>Property</label>
                    <input type="text" id="paymentProperty" readonly>
                </div>
                <div class="form-group">
                    <label>Tenant</label>
                    <input type="text" id="paymentTenant" readonly>
                </div>
                <div class="form-group">
                    <label>Payment Method</label>
                    <select id="paymentMethod">
                        <option value="online">Online Payment (40%)</option>
                        <option value="cash">Cash Payment (60%)</option>
                        <option value="full">Full Payment</option>
                    </select>
                </div>
                <div class="form-group">
                    <label>Amount (‚Çπ)</label>
                    <input type="number" id="paymentAmount" placeholder="Enter amount">
                </div>
                <div class="action-btns">
                    <button class="btn btn-success" onclick="recordPayment()">üí∞ Record Payment</button>
                    <button class="btn btn-outline" onclick="closePaymentModal()">Cancel</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Invoice Modal -->
    <div id="invoiceModal" class="modal">
        <div class="modal-content" style="max-width: 700px;">
            <div class="modal-header">
                <h2>Invoice Preview</h2>
                <button class="close-modal" onclick="closeInvoiceModal()">√ó</button>
            </div>
            <div class="modal-body" id="invoiceContent">
                <!-- Populated by JavaScript -->
            </div>
        </div>
    </div>

    <script>
        // Property and Tenant Data
        const properties = {
            skyview: {
                name: 'Skyview Apartments',
                location: 'Andheri West, Mumbai',
                units: 10
            },
            green: {
                name: 'Green Valley Residency',
                location: 'Whitefield, Bangalore',
                units: 12
            },
            pearl: {
                name: 'Pearl Heights',
                location: 'Sector 62, Noida',
                units: 8
            }
        };

        const tenants = [
            // Skyview Apartments
            { id: 1, property: 'skyview', unit: 'A-101', name: 'Rajesh Kumar', rent: 25000, onlinePaid: 10000, cashPaid: 15000 },
            { id: 2, property: 'skyview', unit: 'A-102', name: 'Priya Sharma', rent: 28000, onlinePaid: 0, cashPaid: 0 },
            { id: 3, property: 'skyview', unit: 'A-103', name: 'Amit Patel', rent: 22000, onlinePaid: 8800, cashPaid: 13200 },
            { id: 4, property: 'skyview', unit: 'B-201', name: 'Sunita Reddy', rent: 30000, onlinePaid: 12000, cashPaid: 18000 },
            { id: 5, property: 'skyview', unit: 'B-202', name: 'Vikram Singh', rent: 26000, onlinePaid: 10400, cashPaid: 15600 },
            { id: 6, property: 'skyview', unit: 'B-203', name: 'Anjali Verma', rent: 29000, onlinePaid: 0, cashPaid: 0 },
            { id: 7, property: 'skyview', unit: 'C-301', name: 'Arjun Desai', rent: 27000, onlinePaid: 10800, cashPaid: 16200 },
            { id: 8, property: 'skyview', unit: 'C-302', name: 'Kavita Nair', rent: 24000, onlinePaid: 9600, cashPaid: 14400 },
            { id: 9, property: 'skyview', unit: 'C-303', name: 'Rahul Gupta', rent: 25000, onlinePaid: 0, cashPaid: 0 },
            { id: 10, property: 'skyview', unit: 'D-401', name: 'Meera Iyer', rent: 23000, onlinePaid: 9200, cashPaid: 13800 },
            
            // Green Valley Residency
            { id: 11, property: 'green', unit: 'G-101', name: 'Karan Malhotra', rent: 28000, onlinePaid: 11200, cashPaid: 16800 },
            { id: 12, property: 'green', unit: 'G-102', name: 'Neha Kapoor', rent: 26000, onlinePaid: 0, cashPaid: 0 },
            { id: 13, property: 'green', unit: 'G-103', name: 'Sanjay Rao', rent: 27000, onlinePaid: 10800, cashPaid: 16200 },
            { id: 14, property: 'green', unit: 'G-201', name: 'Pooja Joshi', rent: 29000, onlinePaid: 11600, cashPaid: 17400 },
            { id: 15, property: 'green', unit: 'G-202', name: 'Rohan Mehta', rent: 25000, onlinePaid: 10000, cashPaid: 15000 },
            { id: 16, property: 'green', unit: 'G-203', name: 'Deepika Singh', rent: 30000, onlinePaid: 0, cashPaid: 0 },
            { id: 17, property: 'green', unit: 'G-301', name: 'Aditya Sharma', rent: 27000, onlinePaid: 10800, cashPaid: 16200 },
            { id: 18, property: 'green', unit: 'G-302', name: 'Simran Kaur', rent: 26000, onlinePaid: 10400, cashPaid: 15600 },
            { id: 19, property: 'green', unit: 'G-303', name: 'Vivek Agarwal', rent: 28000, onlinePaid: 0, cashPaid: 0 },
            { id: 20, property: 'green', unit: 'G-401', name: 'Nisha Patel', rent: 24000, onlinePaid: 9600, cashPaid: 14400 },
            { id: 21, property: 'green', unit: 'G-402', name: 'Manish Kumar', rent: 27000, onlinePaid: 10800, cashPaid: 16200 },
            { id: 22, property: 'green', unit: 'G-403', name: 'Ritu Verma', rent: 26000, onlinePaid: 0, cashPaid: 0 },
            
            // Pearl Heights
            { id: 23, property: 'pearl', unit: 'P-101', name: 'Akash Jain', rent: 24000, onlinePaid: 9600, cashPaid: 14400 },
            { id: 24, property: 'pearl', unit: 'P-102', name: 'Sneha Reddy', rent: 25000, onlinePaid: 0, cashPaid: 0 },
            { id: 25, property: 'pearl', unit: 'P-201', name: 'Gaurav Singh', rent: 23000, onlinePaid: 9200, cashPaid: 13800 },
            { id: 26, property: 'pearl', unit: 'P-202', name: 'Priyanka Das', rent: 26000, onlinePaid: 10400, cashPaid: 15600 },
            { id: 27, property: 'pearl', unit: 'P-301', name: 'Abhishek Roy', rent: 22000, onlinePaid: 8800, cashPaid: 13200 },
            { id: 28, property: 'pearl', unit: 'P-302', name: 'Tanvi Mehta', rent: 25000, onlinePaid: 0, cashPaid: 0 },
            { id: 29, property: 'pearl', unit: 'P-401', name: 'Harsh Gupta', rent: 24000, onlinePaid: 9600, cashPaid: 14400 },
            { id: 30, property: 'pearl', unit: 'P-402', name: 'Ishita Sharma', rent: 25000, onlinePaid: 10000, cashPaid: 15000 }
        ];

        let currentFilter = 'all';
        let selectedTenant = null;

        // Toggle Property Menu
        function togglePropertyMenu() {
            const menu = document.getElementById('propertyMenu');
            menu.classList.toggle('show');
        }

        // Close menu when clicking outside
        document.addEventListener('click', function(event) {
            const dropdown = document.querySelector('.property-dropdown');
            if (!dropdown.contains(event.target)) {
                document.getElementById('propertyMenu').classList.remove('show');
            }
        });

        // Select Property
        function selectProperty(propertyId, propertyName) {
            currentFilter = propertyId;
            document.getElementById('selectedProperty').textContent = propertyName;
            
            // Update active state
            document.querySelectorAll('.property-item').forEach(item => {
                item.classList.remove('active');
            });
            event.currentTarget.classList.add('active');
            
            // Close menu
            document.getElementById('propertyMenu').classList.remove('show');
            
            // Refresh data
            renderTenants();
            updateStats();
        }

        // Switch Tabs
        function switchTab(tabName) {
            document.querySelectorAll('.tab-content').forEach(tab => {
                tab.classList.remove('active');
            });
            document.querySelectorAll('.tab').forEach(tab => {
                tab.classList.remove('active');
            });
            
            document.getElementById(tabName).classList.add('active');
            event.target.classList.add('active');
            
            if (tabName === 'invoices') {
                renderInvoices();
            }
        }

        // Render Tenants
        function renderTenants() {
            const tbody = document.getElementById('tenantList');
            tbody.innerHTML = '';
            
            let filteredTenants = currentFilter === 'all' 
                ? tenants 
                : tenants.filter(t => t.property === currentFilter);
            
            filteredTenants.forEach(tenant => {
                const totalPaid = tenant.onlinePaid + tenant.cashPaid;
                const progress = (totalPaid / tenant.rent) * 100;
                
                let status = 'pending';
                if (totalPaid >= tenant.rent) status = 'paid';
                else if (totalPaid > 0) status = 'partial';
                
                const propertyName = properties[tenant.property].name;
                
                const row = `
                    <tr>
                        <td><span class="property-badge">${propertyName}</span></td>
                        <td><strong>${tenant.unit}</strong></td>
                        <td>${tenant.name}</td>
                        <td>‚Çπ${tenant.rent.toLocaleString('en-IN')}</td>
                        <td>
                            <div class="payment-progress">
                                <div class="progress-bar">
                                    <div class="progress-fill" style="width: ${progress}%"></div>
                                </div>
                                <div class="progress-labels">
                                    <span>‚Çπ${totalPaid.toLocaleString('en-IN')}</span>
                                    <span>${Math.round(progress)}%</span>
                                </div>
                            </div>
                        </td>
                        <td><span class="status ${status}">${status}</span></td>
                        <td>
                            <div class="action-btns">
                                <button class="btn btn-primary" onclick="viewInvoice(${tenant.id})">üëÅÔ∏è Invoice</button>
                                <button class="btn btn-success" onclick="openPaymentModal(${tenant.id})">üí∞ Pay</button>
                            </div>
                        </td>
                    </tr>
                `;
                tbody.innerHTML += row;
            });
        }

        // Render Invoices
        function renderInvoices() {
            const tbody = document.getElementById('invoiceList');
            tbody.innerHTML = '';
            
            let filteredTenants = currentFilter === 'all' 
                ? tenants 
                : tenants.filter(t => t.property === currentFilter);
            
            filteredTenants.forEach(tenant => {
                const totalPaid = tenant.onlinePaid + tenant.cashPaid;
                let status = totalPaid >= tenant.rent ? 'paid' : totalPaid > 0 ? 'partial' : 'pending';
                const propertyName = properties[tenant.property].name;
                
                const row = `
                    <tr>
                        <td>#INV-${String(tenant.id).padStart(4, '0')}</td>
                        <td><span class="property-badge">${propertyName}</span></td>
                        <td>${tenant.name}</td>
                        <td>‚Çπ${tenant.rent.toLocaleString('en-IN')}</td>
                        <td><span class="status ${status}">${status}</span></td>
                        <td>
                            <div class="action-btns">
                                <button class="btn btn-primary" onclick="viewInvoice(${tenant.id})">üëÅÔ∏è View</button>
                                <button class="btn btn-outline" onclick="sendInvoice(${tenant.id})">üìß Send</button>
                            </div>
                        </td>
                    </tr>
                `;
                tbody.innerHTML += row;
            });
        }

        // Update Stats
        function updateStats() {
            let filteredTenants = currentFilter === 'all' 
                ? tenants 
                : tenants.filter(t => t.property === currentFilter);
            
            const totalRent = filteredTenants.reduce((sum, t) => sum + t.rent, 0);
            const totalOnline = filteredTenants.reduce((sum, t) => sum + t.onlinePaid, 0);
            const totalCash = filteredTenants.reduce((sum, t) => sum + t.cashPaid, 0);
            const totalCollected = totalOnline + totalCash;
            const collectionRate = Math.round((totalCollected / totalRent) * 100);
            
            document.getElementById('statsContainer').innerHTML = `
                <div class="stat-card">
                    <div class="stat-icon">üè¢</div>
                    <div class="stat-label">Total Monthly Rent</div>
                    <div class="stat-value">‚Çπ${totalRent.toLocaleString('en-IN')}</div>
                    <div class="stat-change positive">
                        <span>‚Üë</span>
                        <span>12% from last month</span>
                    </div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon">üí∞</div>
                    <div class="stat-label">Collected This Month</div>
                    <div class="stat-value">‚Çπ${totalCollected.toLocaleString('en-IN')}</div>
                    <div class="stat-change positive">
                        <span>‚Üë</span>
                        <span>${collectionRate}% collection rate</span>
                    </div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon">üì±</div>
                    <div class="stat-label">Online Payments</div>
                    <div class="stat-value">‚Çπ${totalOnline.toLocaleString('en-IN')}</div>
                    <div class="stat-change">
                        <span>40% of total</span>
                    </div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon">üíµ</div>
                    <div class="stat-label">Cash Payments</div>
                    <div class="stat-value">‚Çπ${totalCash.toLocaleString('en-IN')}</div>
                    <div class="stat-change">
                        <span>60% of total</span>
                    </div>
                </div>
            `;
        }

        // Open Payment Modal
        function openPaymentModal(tenantId) {
            selectedTenant = tenants.find(t => t.id === tenantId);
            const propertyName = properties[selectedTenant.property].name;
            
            document.getElementById('paymentProperty').value = propertyName;
            document.getElementById('paymentTenant').value = `${selectedTenant.name} - ${selectedTenant.unit}`;
            document.getElementById('paymentAmount').value = '';
            document.getElementById('paymentModal').classList.add('show');
        }

        // Close Payment Modal
        function closePaymentModal() {
            document.getElementById('paymentModal').classList.remove('show');
            selectedTenant = null;
        }

        // Record Payment
        function recordPayment() {
            if (!selectedTenant) return;
            
            const method = document.getElementById('paymentMethod').value;
            const amount = parseFloat(document.getElementById('paymentAmount').value);
            
            if (!amount || amount <= 0) {
                alert('Please enter a valid amount');
                return;
            }
            
            if (method === 'online') {
                selectedTenant.onlinePaid += amount;
            } else if (method === 'cash') {
                selectedTenant.cashPaid += amount;
            } else if (method === 'full') {
                const onlineAmount = selectedTenant.rent * 0.4;
                const cashAmount = selectedTenant.rent * 0.6;
                selectedTenant.onlinePaid = onlineAmount;
                selectedTenant.cashPaid = cashAmount;
            }
            
            alert('‚úÖ Payment recorded successfully!');
            closePaymentModal();
            renderTenants();
            updateStats();
        }

        // Send All Invoices
        function sendAllInvoices() {
            alert('üìß ‡§ï‡§ø‡§∞‡§æ‡§Ø‡§æ ‡§¨‡§ø‡§≤ ‡§≠‡•á‡§ú‡•á ‡§ó‡§è!\n\nInvoices sent to all tenants via WhatsApp & Email!\n\nEach tenant received:\n‚Ä¢ Invoice PDF\n‚Ä¢ Payment instructions\n‚Ä¢ UPI payment link\n‚Ä¢ Due date reminder');
        }

        // View Invoice
        function viewInvoice(tenantId) {
            const tenant = tenants.find(t => t.id === tenantId);
            const propertyName = properties[tenant.property].name;
            const propertyLocation = properties[tenant.property].location;
            const onlineAmount = tenant.rent * 0.4;
            const cashAmount = tenant.rent * 0.6;
            
            const invoiceHTML = `
                <div class="invoice-header-section">
                    <h3>‡§ï‡§ø‡§∞‡§æ‡§Ø‡§æ ‡§¨‡§ø‡§≤ | RENT INVOICE</h3>
                    <div class="invoice-meta">
                        <div>
                            <strong>Invoice #:</strong> INV-${String(tenant.id).padStart(4, '0')}
                        </div>
                        <div>
                            <strong>Date:</strong> February 1, 2026
                        </div>
                        <div>
                            <strong>Due Date:</strong> February 5, 2026
                        </div>
                    </div>
                </div>

                <div class="invoice-grid">
                    <div class="invoice-details">
                        <h4>Bill To</h4>
                        <p><strong>${tenant.name}</strong></p>
                        <p>Unit: ${tenant.unit}</p>
                        <p>${propertyName}</p>
                        <p>${propertyLocation}</p>
                        <p>Mobile: +91 ${Math.floor(Math.random() * 9000000000) + 1000000000}</p>
                    </div>
                    <div class="invoice-details">
                        <h4>Property Details</h4>
                        <p><strong>${propertyName}</strong></p>
                        <p>${propertyLocation}</p>
                        <p>Unit: ${tenant.unit}</p>
                        <p>Type: Residential</p>
                    </div>
                </div>

                <div style="overflow-x: auto; -webkit-overflow-scrolling: touch;">
                    <table class="invoice-table">
                        <thead>
                            <tr>
                                <th>Description</th>
                                <th style="text-align: right;">Amount</th>
                                <th style="text-align: center; min-width: 100px;">Status</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>Monthly Rent - ${tenant.unit}</td>
                                <td style="text-align: right;">‚Çπ${tenant.rent.toLocaleString('en-IN')}</td>
                                <td></td>
                            </tr>
                            <tr>
                                <td style="padding-left: 30px;">‚îî Online Payment (40%)</td>
                                <td style="text-align: right;">‚Çπ${onlineAmount.toLocaleString('en-IN')}</td>
                                <td style="text-align: center;">
                                    ${tenant.onlinePaid >= onlineAmount ? 
                                        '<span class="status paid">‚úì Paid</span>' : 
                                        '<span class="status pending">‚è≥ Pending</span>'}
                                </td>
                            </tr>
                            <tr>
                                <td style="padding-left: 30px;">‚îî Cash Payment (60%)</td>
                                <td style="text-align: right;">‚Çπ${cashAmount.toLocaleString('en-IN')}</td>
                                <td style="text-align: center;">
                                    ${tenant.cashPaid >= cashAmount ? 
                                        '<span class="status paid">‚úì Paid</span>' : 
                                        '<span class="status pending">‚è≥ Pending</span>'}
                                </td>
                            </tr>
                            <tr class="invoice-total-row">
                                <td>TOTAL DUE</td>
                                <td style="text-align: right;">‚Çπ${tenant.rent.toLocaleString('en-IN')}</td>
                                <td></td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <div class="invoice-instructions">
                    <h4>üí≥ Payment Instructions:</h4>
                    <p>‚Ä¢ <strong>Online (40%):</strong> Pay ‚Çπ${onlineAmount.toLocaleString('en-IN')} via UPI, Net Banking, or Card</p>
                    <p>‚Ä¢ <strong>UPI ID:</strong> rentflow@bank</p>
                    <p>‚Ä¢ <strong>Cash (60%):</strong> Pay ‚Çπ${cashAmount.toLocaleString('en-IN')} to property manager</p>
                    <p>‚Ä¢ <strong>Due Date:</strong> 5th of each month</p>
                    <p style="margin-top: 12px; font-size: 12px; color: var(--danger);">‚ö†Ô∏è Late payment charges of 2% per month will apply after due date</p>
                </div>

                <div style="margin-top: 24px; display: flex; gap: 12px; flex-wrap: wrap;">
                    <button class="btn btn-primary" onclick="sendInvoice(${tenant.id})">üìß Send Invoice</button>
                    <button class="btn btn-success" onclick="openPaymentModal(${tenant.id}); closeInvoiceModal();">üí∞ Record Payment</button>
                    <button class="btn btn-outline" onclick="closeInvoiceModal()">Close</button>
                </div>
            `;
            
            document.getElementById('invoiceContent').innerHTML = invoiceHTML;
            document.getElementById('invoiceModal').classList.add('show');
        }

        // Close Invoice Modal
        function closeInvoiceModal() {
            document.getElementById('invoiceModal').classList.remove('show');
        }

        // Send Invoice
        function sendInvoice(tenantId) {
            const tenant = tenants.find(t => t.id === tenantId);
            const propertyName = properties[tenant.property].name;
            alert(`üìß Invoice sent successfully!\n\nRecipient: ${tenant.name}\nProperty: ${propertyName}\nUnit: ${tenant.unit}\n\nSent via:\n‚úì WhatsApp\n‚úì Email\n‚úì SMS`);
        }

        // Close modal on outside click
        document.getElementById('paymentModal').addEventListener('click', function(e) {
            if (e.target === this) {
                closePaymentModal();
            }
        });

        document.getElementById('invoiceModal').addEventListener('click', function(e) {
            if (e.target === this) {
                closeInvoiceModal();
            }
        });

        // Initialize
        renderTenants();
    </script>
</body>
</html>